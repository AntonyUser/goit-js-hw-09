{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAASC,SAASC,cAAc,UAElCC,UAAUC,MAAEC,EAAKC,KAAEC,EAAIC,OAAEC,EAAMC,OAAEC,IACjCX,EAGJ,SAASY,EAAcC,EAAUC,GAC7B,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACzBC,YAAW,KACHN,EACAI,EAAQ,C,SAAEN,EAAUT,MAAAU,IAEpBM,EAAO,C,SAAEP,EAAUT,MAAAU,MAGxBA,MAKXd,EAAOsB,iBAAiB,UAExB,SAAsBC,GAClBA,EAAMC,iBAGNb,EAAOc,UAAW,EAClB,IAAIC,EAAWC,OAAOtB,EAAMuB,OAC5B,MAAMC,EAAUF,OAAOpB,EAAKqB,OACtBE,EAAYH,OAAOlB,EAAOmB,OAChCP,YAAW,KACPV,EAAOc,UAAW,IACnBC,EAAWG,EAAUC,GACxB,IAAK,IAAIC,EAAI,EAAGA,GAAKD,EAAWC,GAAK,EACjCnB,EAAcmB,EAAGL,GACZM,MAAK,EAACnB,SAAEA,EAAUT,MAAA6B,MACfC,EAAApC,GAASqC,OAAOC,QAAQ,uBAAqBvB,QAAiBoB,UAEjEI,OAAM,EAACxB,SAAEA,EAAUT,MAAAkC,MAChBJ,EAAApC,GAASqC,OAAOI,QAAQ,sBAAoB1B,QAAeyB,UAEnEZ,GAAYG","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst formEl = document.querySelector('.form')\nconst {\n    elements: { delay, step, amount, button }\n} = formEl\n\n\nfunction createPromise(position, delay) {\n    const shouldResolve = Math.random() > 0.3;\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            if (shouldResolve) {\n                resolve({ position, delay })\n            } else {\n                reject({ position, delay })\n            }\n\n        }, delay)\n\n    })\n}\n\nformEl.addEventListener('submit', onSubmitForm)\n\nfunction onSubmitForm(event) {\n    event.preventDefault()\n\n\n    button.disabled = true\n    let delayVal = Number(delay.value);\n    const stepVal = Number(step.value);\n    const amountVal = Number(amount.value);\n    setTimeout(() => {\n        button.disabled = false\n    }, delayVal + stepVal * amountVal)\n    for (let i = 1; i <= amountVal; i += 1) {\n        createPromise(i, delayVal)\n            .then(({ position, delay }) => {\n                Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n            })\n            .catch(({ position, delay }) => {\n                Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n            });\n        delayVal += stepVal\n    }\n\n}"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","elements","delay","$47d4ff9957288465$var$delay","step","$47d4ff9957288465$var$step","amount","$47d4ff9957288465$var$amount","button","$47d4ff9957288465$var$button","$47d4ff9957288465$var$createPromise","position","delay1","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","event","preventDefault","disabled","delayVal","Number","value","stepVal","amountVal","i","then","delay2","$parcel$interopDefault","Notify","success","catch","delay3","failure"],"version":3,"file":"03-promises.89e5f5ca.js.map"}